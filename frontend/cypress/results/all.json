{
  "stats": {
    "suites": 6,
    "tests": 76,
    "passes": 50,
    "pending": 0,
    "failures": 26,
    "testsRegistered": 76,
    "passPercent": 65.78947368421052,
    "pendingPercent": 0,
    "other": 0,
    "hasOther": false,
    "skipped": 0,
    "hasSkipped": false,
    "start": "2024-04-05T15:24:39.135Z",
    "end": "2024-04-05T15:26:50.343Z",
    "duration": 131208
  },
  "results": [
    {
      "uuid": "7e85db83-1fdb-4ce1-8488-385b5e79a143",
      "title": "",
      "fullFile": "cypress/e2e/frontend/add-product.cy.js",
      "file": "cypress/e2e/frontend/add-product.cy.js",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "81eb9efb-45a4-4b29-96e1-0597ddde94d4",
          "title": "Page /products/add",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "post product",
              "fullTitle": "Page /products/add post product",
              "timedOut": null,
              "duration": 409,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Note : Test le scénario d'un ajout de produit réussi\ncy.visit(url, {\n  onBeforeLoad: function (window) {\n    window.localStorage.setItem(\"token\", _tokens.aliceToken);\n  }\n});\n(0, _orm.createProduct)().then(({\n  originalProduct,\n  product\n}) => {\n  cy.get(\"[data-test-product-name]\").type(product.name);\n  cy.get(\"[data-test-product-description]\").type(product.description);\n  cy.get(\"[data-test-product-category]\").type(product.category);\n  cy.get(\"[data-test-product-price]\").type(product.originalPrice);\n  cy.get(\"[data-test-product-picture]\").type(\"{selectAll}{del}\");\n  cy.get(\"[data-test-product-picture]\").type(product.pictureUrl);\n  cy.get(\"[data-test-product-end-date]\").type((0, _automate.prepareDateToType)(originalProduct.endDate));\n  cy.intercept(\"POST\", \"http://localhost:3000/api/products\").as(\"postProduct\");\n  cy.get(\"[data-test-submit]\").click();\n  cy.wait(\"@postProduct\").then(interception => {\n    expect(interception.response.statusCode).to.eq(201);\n    const id = interception.response.body.id;\n    cy.url().should(\"contain\", `/products/${id}`);\n  });\n});",
              "err": {},
              "uuid": "59725297-0151-4017-935e-57e27e18eb20",
              "parentUUID": "81eb9efb-45a4-4b29-96e1-0597ddde94d4",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "display spinner",
              "fullTitle": "Page /products/add display spinner",
              "timedOut": null,
              "duration": 97,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Note : Test la présence d'un spinner lors de l'envoi de la requête\ncy.visit(url, {\n  onBeforeLoad: function (window) {\n    window.localStorage.setItem(\"token\", _tokens.aliceToken);\n  }\n});\n(0, _orm.createProduct)().then(({\n  originalProduct,\n  product\n}) => {\n  cy.get(\"[data-test-product-name]\").type(product.name);\n  cy.get(\"[data-test-product-description]\").type(product.description);\n  cy.get(\"[data-test-product-category]\").type(product.category);\n  cy.get(\"[data-test-product-price]\").type(product.originalPrice);\n  cy.get(\"[data-test-product-picture]\").type(\"{selectAll}{del}\");\n  cy.get(\"[data-test-product-picture]\").type(product.pictureUrl);\n  cy.get(\"[data-test-product-end-date]\").type((0, _automate.prepareDateToType)(originalProduct.endDate));\n  cy.intercept(\"POST\", \"http://localhost:3000/api/products\", {\n    delay: 2000\n  }).as(\"postProduct\");\n  cy.get(\"[data-test-submit]\").click();\n  cy.get(\"[data-test-submit]\").should(\"have.attr\", \"disabled\");\n  cy.get(\"[data-test-spinner]\").should(\"exist\");\n});",
              "err": {},
              "uuid": "b6b841cc-d852-42ae-9ea3-658b25ea90f4",
              "parentUUID": "81eb9efb-45a4-4b29-96e1-0597ddde94d4",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "display error",
              "fullTitle": "Page /products/add display error",
              "timedOut": null,
              "duration": 4338,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "// Note : Test le scénario d'un ajout de produit avec un échec\ncy.visit(url, {\n  onBeforeLoad: function (window) {\n    window.localStorage.setItem(\"token\", _tokens.aliceToken);\n  }\n});\ncy.get(\"[data-test-error]\").should(\"not.exist\");\n(0, _orm.createProduct)().then(({\n  originalProduct,\n  product\n}) => {\n  cy.get(\"[data-test-product-name]\").type(product.name);\n  cy.get(\"[data-test-product-description]\").type(product.description);\n  cy.get(\"[data-test-product-category]\").type(product.category);\n  cy.get(\"[data-test-product-price]\").type(product.originalPrice);\n  cy.get(\"[data-test-product-picture]\").type(\"{selectAll}{del}\");\n  cy.get(\"[data-test-product-picture]\").type(product.pictureUrl);\n  cy.get(\"[data-test-product-end-date]\").type((0, _automate.prepareDateToType)(originalProduct.endDate));\n  cy.intercept(\"POST\", \"http://localhost:3000/api/products\", {\n    statusCode: 500\n  }).as(\"postProduct\");\n  cy.get(\"[data-test-submit]\").click();\n  cy.get(\"[data-test-error]\").should(\"exist\");\n});",
              "err": {
                "message": "AssertionError: Timed out retrying after 4000ms: Expected <div.alert.alert-danger.mt-4> not to exist in the DOM, but it was continuously found.",
                "estack": "AssertionError: Timed out retrying after 4000ms: Expected <div.alert.alert-danger.mt-4> not to exist in the DOM, but it was continuously found.\n    at Context.eval (webpack://frontend/./cypress/e2e/frontend/add-product.cy.js:86:32)",
                "diff": null
              },
              "uuid": "cea0894a-8750-4370-b77d-f2032218f3f8",
              "parentUUID": "81eb9efb-45a4-4b29-96e1-0597ddde94d4",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "59725297-0151-4017-935e-57e27e18eb20",
            "b6b841cc-d852-42ae-9ea3-658b25ea90f4"
          ],
          "failures": [
            "cea0894a-8750-4370-b77d-f2032218f3f8"
          ],
          "pending": [],
          "skipped": [],
          "duration": 4844,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 2000
    },
    {
      "uuid": "0113e952-17b8-49be-97b4-8a2c04bfe6b2",
      "title": "",
      "fullFile": "cypress/e2e/frontend/edit-product.cy.js",
      "file": "cypress/e2e/frontend/edit-product.cy.js",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "40132a47-87d9-4251-92c8-7aebf631d10a",
          "title": "Page /products/:productId/edit",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "post product",
              "fullTitle": "Page /products/:productId/edit post product",
              "timedOut": null,
              "duration": 68,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "(0, _orm.createProduct)().then(({\n  product\n}) => {\n  // Note : Test le scénario de modification de produit réussi\n  cy.visit(`http://localhost:5173/products/${product.id}/edit`, {\n    onBeforeLoad: function (window) {\n      window.localStorage.setItem(\"token\", _tokens.aliceToken);\n    }\n  });\n  const newProduct = (0, _orm.buildProduct)();\n  cy.get(\"[data-test-product-name]\").type(\"{selectAll}{del}\");\n  cy.get(\"[data-test-product-name]\").type(newProduct.name);\n  cy.get(\"[data-test-product-description]\").type(\"{selectAll}{del}\");\n  cy.get(\"[data-test-product-description]\").type(newProduct.description);\n  cy.get(\"[data-test-product-category]\").type(\"{selectAll}{del}\");\n  cy.get(\"[data-test-product-category]\").type(newProduct.category);\n  cy.get(\"[data-test-product-price]\").type(\"{selectAll}{del}\");\n  cy.get(\"[data-test-product-price]\").type(newProduct.originalPrice);\n  cy.get(\"[data-test-product-picture]\").type(\"{selectAll}{del}\");\n  cy.get(\"[data-test-product-picture]\").type(newProduct.pictureUrl);\n  cy.get(\"[data-test-product-end-date]\").type(\"{selectAll}{del}\");\n  cy.get(\"[data-test-product-end-date]\").type((0, _automate.prepareDateToType)(newProduct.endDate));\n  cy.intercept(\"PUT\", \"http://localhost:3000/api/products/\" + product.id).as(\"putProduct\");\n  cy.get(\"[data-test-submit]\").click();\n  cy.wait(\"@putProduct\").then(interception => {\n    expect(interception.response.statusCode).to.eq(200);\n    const id = interception.response.body.id;\n    cy.url().should(\"contain\", `/products/${id}`);\n  });\n});",
              "err": {},
              "uuid": "0498673e-3125-4a96-8b89-e516cce1d3f3",
              "parentUUID": "40132a47-87d9-4251-92c8-7aebf631d10a",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "display spinner",
              "fullTitle": "Page /products/:productId/edit display spinner",
              "timedOut": null,
              "duration": 29,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Note : Test la présence d'un spinner lors de l'envoi de la requête\n(0, _orm.createProduct)().then(({\n  product\n}) => {\n  cy.visit(`http://localhost:5173/products/${product.id}/edit`, {\n    onBeforeLoad: function (window) {\n      window.localStorage.setItem(\"token\", _tokens.aliceToken);\n    }\n  });\n  const newProduct = (0, _orm.buildProduct)();\n  cy.get(\"[data-test-product-name]\").type(\"{selectAll}{del}\");\n  cy.get(\"[data-test-product-name]\").type(newProduct.name);\n  cy.get(\"[data-test-product-description]\").type(\"{selectAll}{del}\");\n  cy.get(\"[data-test-product-description]\").type(newProduct.description);\n  cy.get(\"[data-test-product-category]\").type(\"{selectAll}{del}\");\n  cy.get(\"[data-test-product-category]\").type(newProduct.category);\n  cy.get(\"[data-test-product-price]\").type(\"{selectAll}{del}\");\n  cy.get(\"[data-test-product-price]\").type(newProduct.originalPrice);\n  cy.get(\"[data-test-product-picture]\").type(\"{selectAll}{del}\");\n  cy.get(\"[data-test-product-picture]\").type(newProduct.pictureUrl);\n  cy.get(\"[data-test-product-end-date]\").type(\"{selectAll}{del}\");\n  cy.get(\"[data-test-product-end-date]\").type((0, _automate.prepareDateToType)(newProduct.endDate));\n  cy.intercept(\"PUT\", \"http://localhost:3000/api/products/\" + product.id, {\n    delay: 2000\n  }).as(\"putProduct\");\n  cy.get(\"[data-test-submit]\").click();\n  cy.get(\"[data-test-submit]\").should(\"have.attr\", \"disabled\");\n  cy.get(\"[data-test-spinner]\").should(\"exist\");\n});",
              "err": {},
              "uuid": "9ee74bf7-0b2a-40ae-8aa9-8411da9d6c9c",
              "parentUUID": "40132a47-87d9-4251-92c8-7aebf631d10a",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "display error",
              "fullTitle": "Page /products/:productId/edit display error",
              "timedOut": null,
              "duration": 27,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Note : Test le scénario d'un ajout de produit avec un échec\n(0, _orm.createProduct)().then(({\n  product\n}) => {\n  cy.visit(`http://localhost:5173/products/${product.id}/edit`, {\n    onBeforeLoad: function (window) {\n      window.localStorage.setItem(\"token\", _tokens.aliceToken);\n    }\n  });\n  cy.get(\"[data-test-error]\").should(\"not.exist\");\n  const newProduct = (0, _orm.buildProduct)();\n  cy.get(\"[data-test-product-name]\").type(\"{selectAll}{del}\");\n  cy.get(\"[data-test-product-name]\").type(newProduct.name);\n  cy.get(\"[data-test-product-description]\").type(\"{selectAll}{del}\");\n  cy.get(\"[data-test-product-description]\").type(newProduct.description);\n  cy.get(\"[data-test-product-category]\").type(\"{selectAll}{del}\");\n  cy.get(\"[data-test-product-category]\").type(newProduct.category);\n  cy.get(\"[data-test-product-price]\").type(\"{selectAll}{del}\");\n  cy.get(\"[data-test-product-price]\").type(newProduct.originalPrice);\n  cy.get(\"[data-test-product-picture]\").type(\"{selectAll}{del}\");\n  cy.get(\"[data-test-product-picture]\").type(newProduct.pictureUrl);\n  cy.get(\"[data-test-product-end-date]\").type(\"{selectAll}{del}\");\n  cy.get(\"[data-test-product-end-date]\").type((0, _automate.prepareDateToType)(newProduct.endDate));\n  cy.intercept(\"PUT\", \"http://localhost:3000/api/products/\" + product.id, {\n    statusCode: 500\n  }).as(\"putProduct\");\n  cy.get(\"[data-test-submit]\").click();\n  cy.get(\"[data-test-error]\").should(\"exist\");\n});",
              "err": {},
              "uuid": "78caf7ca-dcd0-4182-a8c7-090f03241100",
              "parentUUID": "40132a47-87d9-4251-92c8-7aebf631d10a",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "0498673e-3125-4a96-8b89-e516cce1d3f3",
            "9ee74bf7-0b2a-40ae-8aa9-8411da9d6c9c",
            "78caf7ca-dcd0-4182-a8c7-090f03241100"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 124,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 2000
    },
    {
      "uuid": "5357b50f-cd4a-45ef-9583-c36d58fad9ef",
      "title": "",
      "fullFile": "cypress/e2e/frontend/home.cy.js",
      "file": "cypress/e2e/frontend/home.cy.js",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "31f07bc9-d424-4e8d-b98f-72585a34cc75",
          "title": "Page /",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "fetch products",
              "fullTitle": "Page / fetch products",
              "timedOut": null,
              "duration": 499,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Note : Test le scénario de récupération et d'affichage de tous les produits\ncy.visit(url);\ncy.get(\"[data-test-product]\").should(\"have.length\", 17);",
              "err": {},
              "uuid": "9787fffd-b475-49f4-bf7c-162e7c12d35b",
              "parentUUID": "31f07bc9-d424-4e8d-b98f-72585a34cc75",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "display product with past end date and last bid price",
              "fullTitle": "Page / display product with past end date and last bid price",
              "timedOut": null,
              "duration": 36,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Note : Vérifie que tous les éléments d'un produit sont bien affichés\n// Note : Si la date de fin est passée, afficher \"Terminé\"\n// Note : Si une offre existe pour le produit, afficher \"Prix actuel : <montant de l'offre>\"\n(0, _orm.createProduct)(\"past\").then(({\n  product\n}) => {\n  (0, _orm.createBid)(product.id, product.originalPrice, _tokens.bobToken).then(({\n    bid\n  }) => {\n    cy.visit(url);\n    cy.get(\"[data-test-product]\").should(\"have.length\", 18);\n    cy.get(`[data-test-product-name]:contains(\"${name}\")`).should(\"exist\").first().closest(\"[data-test-product]\").then(el => {\n      cy.wrap(el).find(\"[data-test-product-name]\").invoke(\"attr\", \"href\").should(\"include\", product.id);\n      cy.wrap(el).find(\"[data-test-product-description]\").should(\"have.text\", product.description);\n      cy.wrap(el).find(\"[data-test-product-seller]\").should(\"have.text\", \"alice\").invoke(\"attr\", \"href\").should(\"include\", _tokens.aliceId);\n      cy.wrap(el).find(\"[data-test-product-date]\").should(\"contain.text\", \"Terminé\");\n      cy.wrap(el).find(\"[data-test-product-price]\").should(\"contain.text\", \"Prix actuel\").should(\"contain.text\", \" \" + bid.price + \" €\");\n    });\n  }).catch(() => {\n    expect.fail(\"Bid creation fail\");\n  });\n});",
              "err": {},
              "uuid": "10d00700-9993-488b-9b8b-f6ef0c6dc5d7",
              "parentUUID": "31f07bc9-d424-4e8d-b98f-72585a34cc75",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "display product with futur end date and original price (cause there not yet any bid)",
              "fullTitle": "Page / display product with futur end date and original price (cause there not yet any bid)",
              "timedOut": null,
              "duration": 34,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Note : Vérifie que tous les éléments d'un produit sont bien affichés\n// Note : Si la date de fin n'est pas passée, afficher \"En cours jusqu'au <date de fin>\"\n// Note : Si aucune une offre n'existe pour le produit, afficher \"Prix de départ : <prix de départ>\"\n(0, _orm.createProduct)().then(({\n  product\n}) => {\n  cy.visit(url);\n  cy.get(\"[data-test-product]\").should(\"have.length\", 18);\n  cy.get(`[data-test-product-name]:contains(\"${name}\")`).should(\"exist\").first().closest(\"[data-test-product]\").then(el => {\n    cy.wrap(el).find(\"[data-test-product-description]\").should(\"have.text\", product.description);\n    cy.wrap(el).find(\"[data-test-product-seller]\").should(\"have.text\", \"alice\").invoke(\"attr\", \"href\").should(\"include\", _tokens.aliceId);\n    cy.wrap(el).find(\"[data-test-product-date]\").should(\"contain.text\", \"En cours jusqu'au\");\n    cy.wrap(el).find(\"[data-test-product-price]\").should(\"contain.text\", \"Prix de départ\").should(\"contain.text\", \" \" + product.originalPrice + \" €\");\n  });\n});",
              "err": {},
              "uuid": "e456fcc0-d4de-46d2-8a94-ea7c280ff412",
              "parentUUID": "31f07bc9-d424-4e8d-b98f-72585a34cc75",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "filter by name",
              "fullTitle": "Page / filter by name",
              "timedOut": null,
              "duration": 4709,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "// Note : Vérifie le filtrage par nom, insensible à la casse\ncy.visit(url);\ncy.get(\"[data-test-product]\").should(\"have.length\", 17);\ncy.get(\"[data-test-filter\").type(\"Lot\");\ncy.get(\"[data-test-product]\").should(\"have.length\", 3);\ncy.get(\"[data-test-filter\").type(\"{selectAll}{del}\");\ncy.get(\"[data-test-filter\").type(\"lot\");\ncy.get(\"[data-test-product]\").should(\"have.length\", 3);\ncy.get(\"[data-test-filter\").type(\"{selectAll}{del}\");\ncy.get(\"[data-test-filter\").type(\"lot de tasses\");\ncy.get(\"[data-test-product]\").should(\"have.length\", 1);",
              "err": {
                "message": "AssertionError: Timed out retrying after 4000ms: Too many elements found. Found '17', expected '3'.",
                "estack": "AssertionError: Timed out retrying after 4000ms: Too many elements found. Found '17', expected '3'.\n    at Context.eval (webpack://frontend/./cypress/e2e/frontend/home.cy.js:112:34)",
                "diff": "- 17\n+ 3\n"
              },
              "uuid": "a0536885-b954-4d3c-9349-7f61b19cbb14",
              "parentUUID": "31f07bc9-d424-4e8d-b98f-72585a34cc75",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "sort by name",
              "fullTitle": "Page / sort by name",
              "timedOut": null,
              "duration": 4490,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "// Note : Vérifie le tri par nom, alphabétique de A à Z\ncy.visit(url);\ncy.get(\"[data-test-sorter]\").should(\"contain.text\", \"Trier par nom\");\ncy.get(\"[data-test-product]\").first().find(\"[data-test-product-name]\").should(\"have.text\", \"Ampli de guitare\");\ncy.get(\"[data-test-product]\").last().find(\"[data-test-product-name]\").should(\"have.text\", \"Théière design\");",
              "err": {
                "message": "AssertionError: Timed out retrying after 4000ms: expected '<a>' to have text 'Ampli de guitare', but the text was ' Machine à écrire '",
                "estack": "AssertionError: Timed out retrying after 4000ms: expected '<a>' to have text 'Ampli de guitare', but the text was ' Machine à écrire '\n    at Context.eval (webpack://frontend/./cypress/e2e/frontend/home.cy.js:133:7)",
                "diff": "- ' Machine à écrire '\n+ 'Ampli de guitare'\n"
              },
              "uuid": "62bd62b4-6760-4345-8027-ca0f4e7ae590",
              "parentUUID": "31f07bc9-d424-4e8d-b98f-72585a34cc75",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "sort by price",
              "fullTitle": "Page / sort by price",
              "timedOut": null,
              "duration": 4629,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "// Note : Vérifie le tri par prix, numérique croissant\ncy.visit(url);\ncy.get(\"[data-test-sorter]\").click();\ncy.get(\"[data-test-sorter-price]\").click();\ncy.get(\"[data-test-sorter]\").should(\"contain.text\", \"Trier par prix\");\ncy.get(\"[data-test-product]\").first().find(\"[data-test-product-name]\").should(\"have.text\", \"Ananas\");\ncy.get(\"[data-test-product]\").last().find(\"[data-test-product-name]\").should(\"have.text\", \"Chaussures volantes\");",
              "err": {
                "message": "AssertionError: Timed out retrying after 4000ms: expected '<button.btn.btn-primary.dropdown-toggle>' to contain text 'Trier par prix', but the text was ' Trier par nom '",
                "estack": "AssertionError: Timed out retrying after 4000ms: expected '<button.btn.btn-primary.dropdown-toggle>' to contain text 'Trier par prix', but the text was ' Trier par nom '\n    at Context.eval (webpack://frontend/./cypress/e2e/frontend/home.cy.js:149:33)",
                "diff": "- ' Trier par nom '\n+ 'Trier par prix'\n"
              },
              "uuid": "c2a88c54-3bee-4010-befb-1e05800823d4",
              "parentUUID": "31f07bc9-d424-4e8d-b98f-72585a34cc75",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "loading",
              "fullTitle": "Page / loading",
              "timedOut": null,
              "duration": 4306,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "// Note : Test la présence d'un spinner lors du chargement\ncy.intercept(\"http://localhost:3000/api/products\", {\n  delay: 10000\n});\ncy.visit(url);\ncy.get(\"[data-test-loading]\").should(\"exist\");\ncy.get(\"[data-test-error]\").should(\"not.exist\");\ncy.get(\"[data-test-product]\").should(\"not.exist\");",
              "err": {
                "message": "AssertionError: Timed out retrying after 4000ms: Expected <div.alert.alert-danger.mt-4> not to exist in the DOM, but it was continuously found.",
                "estack": "AssertionError: Timed out retrying after 4000ms: Expected <div.alert.alert-danger.mt-4> not to exist in the DOM, but it was continuously found.\n    at Context.eval (webpack://frontend/./cypress/e2e/frontend/home.cy.js:172:32)",
                "diff": null
              },
              "uuid": "fd3b7d2b-604d-48c2-9ecf-ac2cc848fa30",
              "parentUUID": "31f07bc9-d424-4e8d-b98f-72585a34cc75",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "error message",
              "fullTitle": "Page / error message",
              "timedOut": null,
              "duration": 4405,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "// Note : Test la présence d'un message d'erreur en cas d'échec au chargement\ncy.intercept(\"http://localhost:3000/api/products\", {\n  status: 500,\n  response: {}\n});\ncy.visit(url);\ncy.get(\"[data-test-loading]\").should(\"not.exist\");\ncy.get(\"[data-test-error]\").should(\"exist\");\ncy.get(\"[data-test-product]\").should(\"not.exist\");",
              "err": {
                "message": "AssertionError: Timed out retrying after 4000ms: Expected <div.text-center.mt-4> not to exist in the DOM, but it was continuously found.",
                "estack": "AssertionError: Timed out retrying after 4000ms: Expected <div.text-center.mt-4> not to exist in the DOM, but it was continuously found.\n    at Context.eval (webpack://frontend/./cypress/e2e/frontend/home.cy.js:186:34)",
                "diff": null
              },
              "uuid": "bcc527f3-c4a6-45bb-9854-31e341a5d0b5",
              "parentUUID": "31f07bc9-d424-4e8d-b98f-72585a34cc75",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "ready",
              "fullTitle": "Page / ready",
              "timedOut": null,
              "duration": 4476,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "// Note : Test la présence du contenu après que tout est bien chargé\ncy.intercept(\"http://localhost:3000/api/products\");\ncy.visit(url);\ncy.get(\"[data-test-loading]\").should(\"not.exist\");\ncy.get(\"[data-test-error]\").should(\"not.exist\");\ncy.get(\"[data-test-product]\").should(\"exist\");",
              "err": {
                "message": "AssertionError: Timed out retrying after 4000ms: Expected <div.text-center.mt-4> not to exist in the DOM, but it was continuously found.",
                "estack": "AssertionError: Timed out retrying after 4000ms: Expected <div.text-center.mt-4> not to exist in the DOM, but it was continuously found.\n    at Context.eval (webpack://frontend/./cypress/e2e/frontend/home.cy.js:198:34)",
                "diff": null
              },
              "uuid": "a59eb7f5-f987-4676-85a4-04f23770e320",
              "parentUUID": "31f07bc9-d424-4e8d-b98f-72585a34cc75",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "9787fffd-b475-49f4-bf7c-162e7c12d35b",
            "10d00700-9993-488b-9b8b-f6ef0c6dc5d7",
            "e456fcc0-d4de-46d2-8a94-ea7c280ff412"
          ],
          "failures": [
            "a0536885-b954-4d3c-9349-7f61b19cbb14",
            "62bd62b4-6760-4345-8027-ca0f4e7ae590",
            "c2a88c54-3bee-4010-befb-1e05800823d4",
            "fd3b7d2b-604d-48c2-9ecf-ac2cc848fa30",
            "bcc527f3-c4a6-45bb-9854-31e341a5d0b5",
            "a59eb7f5-f987-4676-85a4-04f23770e320"
          ],
          "pending": [],
          "skipped": [],
          "duration": 27584,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 2000
    },
    {
      "uuid": "620ecb52-7fb5-443b-ac4a-e44a732b5655",
      "title": "",
      "fullFile": "cypress/e2e/frontend/user.cy.js",
      "file": "cypress/e2e/frontend/user.cy.js",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "db6507dd-00b2-49c0-9171-cc58090a8864",
          "title": "Page /users/:userId",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "display products",
              "fullTitle": "Page /users/:userId display products",
              "timedOut": null,
              "duration": 54,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Note : Test le scénario de récupération et d'affichage des produits\n(0, _orm.createProduct)().then(({\n  product\n}) => {\n  cy.visit(`http://localhost:5173/users/${_tokens.aliceId}`);\n  cy.get(\"[data-test-product]\").should(\"have.length\", 8);\n  cy.get(\"[data-test-product]\").last().find(\"[data-test-product-name]\").should(\"have.text\", product.name).invoke(\"attr\", \"href\").should(\"contain\", product.id);\n  cy.get(\"[data-test-product]\").last().find(\"[data-test-product-description]\").should(\"have.text\", product.description);\n  cy.get(\"[data-test-product]\").last().find(\"[data-test-product-price]\").should(\"contain.text\", product.originalPrice + \" €\");\n  cy.get(\"[data-test-product]\").last().find(\"[data-test-product-picture]\").invoke(\"attr\", \"src\").should(\"eq\", product.pictureUrl);\n});",
              "err": {},
              "uuid": "ce88d081-a4bf-44d2-89d8-6121ac2da327",
              "parentUUID": "db6507dd-00b2-49c0-9171-cc58090a8864",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "display bids",
              "fullTitle": "Page /users/:userId display bids",
              "timedOut": null,
              "duration": 31,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Note : Test le scénario de récupération et d'affichage des offres\n(0, _orm.createProduct)(\"futur\", _tokens.bobToken).then(({\n  product\n}) => {\n  (0, _orm.createBid)(product.id, product.originalPrice, _tokens.aliceToken).then(({\n    bid\n  }) => {\n    cy.visit(`http://localhost:5173/users/${_tokens.aliceId}`);\n    cy.get(\"[data-test-bid]\").should(\"exist\");\n    cy.get(`[data-test-bid-product][href$=\"${product.id}\"]`).should(\"exist\").first().closest(\"[data-test-bid]\").then(el => {\n      cy.wrap(el).find(\"[data-test-bid-product]\").should(\"have.text\", product.name);\n      cy.wrap(el).find(\"[data-test-bid-price]\").should(\"have.text\", bid.price + \" €\");\n      cy.wrap(el).find(\"[data-test-bid-date]\").should(\"contain.text\", new Date().getDate()).should(\"contain.text\", new Date().getMonth() + 1).should(\"contain.text\", new Date().getFullYear());\n    });\n  });\n});",
              "err": {},
              "uuid": "2f9dbc15-75cb-4b0e-b5e0-11a390f971ce",
              "parentUUID": "db6507dd-00b2-49c0-9171-cc58090a8864",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "no admin badge",
              "fullTitle": "Page /users/:userId no admin badge",
              "timedOut": null,
              "duration": 4533,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "// Note : Vérifie qu'un utilisateur a un badge admin si et seulement si il est admin\ncy.visit(`http://localhost:5173/users/${_tokens.aliceId}`);\ncy.get(\"[data-test-admin]\").should(\"not.exist\");\ncy.visit(`http://localhost:5173/users/${_tokens.adminId}`);\ncy.get(\"[data-test-admin]\").should(\"exist\");",
              "err": {
                "message": "AssertionError: Timed out retrying after 4000ms: Expected <span.badge.rounded-pill.bg-primary> not to exist in the DOM, but it was continuously found.",
                "estack": "AssertionError: Timed out retrying after 4000ms: Expected <span.badge.rounded-pill.bg-primary> not to exist in the DOM, but it was continuously found.\n    at Context.eval (webpack://frontend/./cypress/e2e/frontend/user.cy.js:88:32)",
                "diff": null
              },
              "uuid": "cb86bc77-bc45-442e-856e-db949d99cbd4",
              "parentUUID": "db6507dd-00b2-49c0-9171-cc58090a8864",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "loading",
              "fullTitle": "Page /users/:userId loading",
              "timedOut": null,
              "duration": 4364,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "// Note : Vérifie la présence d'un spinner au chargement\ncy.intercept(`http://localhost:3000/api/users/${_tokens.aliceId}`, {\n  delay: 10000\n});\ncy.visit(`http://localhost:5173/users/${_tokens.aliceId}`);\ncy.get(\"[data-test-loading]\").should(\"exist\");\ncy.get(\"[data-test-view]\").should(\"not.exist\");\ncy.get(\"[data-test-error]\").should(\"not.exist\");",
              "err": {
                "message": "AssertionError: Timed out retrying after 4000ms: Expected <div> not to exist in the DOM, but it was continuously found.",
                "estack": "AssertionError: Timed out retrying after 4000ms: Expected <div> not to exist in the DOM, but it was continuously found.\n    at Context.eval (webpack://frontend/./cypress/e2e/frontend/user.cy.js:105:31)",
                "diff": null
              },
              "uuid": "75d6d501-d04d-425b-afae-5a0e2688a62d",
              "parentUUID": "db6507dd-00b2-49c0-9171-cc58090a8864",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "error",
              "fullTitle": "Page /users/:userId error",
              "timedOut": null,
              "duration": 4338,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "// Note : Vérifie la présence d'une erreur en cas d'échec de chargement\ncy.intercept(`http://localhost:3000/api/users/${_tokens.aliceId}`, {\n  statusCode: 500\n});\ncy.visit(`http://localhost:5173/users/${_tokens.aliceId}`);\ncy.get(\"[data-test-error]\").should(\"exist\");\ncy.get(\"[data-test-loading]\").should(\"not.exist\");\ncy.get(\"[data-test-view]\").should(\"not.exist\");",
              "err": {
                "message": "AssertionError: Timed out retrying after 4000ms: Expected <div.text-center> not to exist in the DOM, but it was continuously found.",
                "estack": "AssertionError: Timed out retrying after 4000ms: Expected <div.text-center> not to exist in the DOM, but it was continuously found.\n    at Context.eval (webpack://frontend/./cypress/e2e/frontend/user.cy.js:119:34)",
                "diff": null
              },
              "uuid": "3c890ab7-df87-41fe-a846-bdb572134f96",
              "parentUUID": "db6507dd-00b2-49c0-9171-cc58090a8864",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "ready",
              "fullTitle": "Page /users/:userId ready",
              "timedOut": null,
              "duration": 4325,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "// Note : Vérifie la présence du contenu quand tout s'est bien chargé\ncy.visit(`http://localhost:5173/users/${_tokens.aliceId}`);\ncy.get(\"[data-test-error]\").should(\"not.exist\");\ncy.get(\"[data-test-loading]\").should(\"not.exist\");\ncy.get(\"[data-test-view]\").should(\"exist\");",
              "err": {
                "message": "AssertionError: Timed out retrying after 4000ms: Expected <div.alert.alert-danger.mt-3> not to exist in the DOM, but it was continuously found.",
                "estack": "AssertionError: Timed out retrying after 4000ms: Expected <div.alert.alert-danger.mt-3> not to exist in the DOM, but it was continuously found.\n    at Context.eval (webpack://frontend/./cypress/e2e/frontend/user.cy.js:128:32)",
                "diff": null
              },
              "uuid": "ef2d044a-bb37-4f6a-b0df-b83a1635f5c4",
              "parentUUID": "db6507dd-00b2-49c0-9171-cc58090a8864",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "ce88d081-a4bf-44d2-89d8-6121ac2da327",
            "2f9dbc15-75cb-4b0e-b5e0-11a390f971ce"
          ],
          "failures": [
            "cb86bc77-bc45-442e-856e-db949d99cbd4",
            "75d6d501-d04d-425b-afae-5a0e2688a62d",
            "3c890ab7-df87-41fe-a846-bdb572134f96",
            "ef2d044a-bb37-4f6a-b0df-b83a1635f5c4"
          ],
          "pending": [],
          "skipped": [],
          "duration": 17645,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "7be7bc1f-7b3d-4ba1-80b1-d8f2795612e5",
          "title": "Page /users/me",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "me as alice",
              "fullTitle": "Page /users/me me as alice",
              "timedOut": null,
              "duration": 4339,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "// Note : Vérifie que le contenu de la page est bien celui de l'utilisateur courant\ncy.visit(`http://localhost:5173/users/me`, {\n  onBeforeLoad: function (window) {\n    window.localStorage.setItem(\"token\", _tokens.aliceToken);\n  }\n});\ncy.get(\"[data-test-username]\").should(\"contain.text\", \"alice\");\ncy.get(\"[data-test-product]\").should(\"have.length\", 7);",
              "err": {
                "message": "AssertionError: Timed out retrying after 4000ms: expected '<h1.text-center>' to contain text 'alice', but the text was ' Utilisateur charly Admin'",
                "estack": "AssertionError: Timed out retrying after 4000ms: expected '<h1.text-center>' to contain text 'alice', but the text was ' Utilisateur charly Admin'\n    at Context.eval (webpack://frontend/./cypress/e2e/frontend/user.cy.js:144:35)",
                "diff": "- ' Utilisateur charly Admin'\n+ 'alice'\n"
              },
              "uuid": "d3eb2fb6-6848-4cd8-bd2b-b23ff2c29cc9",
              "parentUUID": "7be7bc1f-7b3d-4ba1-80b1-d8f2795612e5",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "me as bob",
              "fullTitle": "Page /users/me me as bob",
              "timedOut": null,
              "duration": 4331,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "// Note : Vérifie que le contenu de la page est bien celui de l'utilisateur courant\ncy.visit(`http://localhost:5173/users/me`, {\n  onBeforeLoad: function (window) {\n    window.localStorage.setItem(\"token\", _tokens.bobToken);\n  }\n});\ncy.get(\"[data-test-username]\").should(\"contain.text\", \"bob\");\ncy.get(\"[data-test-product]\").should(\"have.length\", 3);",
              "err": {
                "message": "AssertionError: Timed out retrying after 4000ms: expected '<h1.text-center>' to contain text 'bob', but the text was ' Utilisateur charly Admin'",
                "estack": "AssertionError: Timed out retrying after 4000ms: expected '<h1.text-center>' to contain text 'bob', but the text was ' Utilisateur charly Admin'\n    at Context.eval (webpack://frontend/./cypress/e2e/frontend/user.cy.js:157:35)",
                "diff": "- ' Utilisateur charly Admin'\n+ 'bob'\n"
              },
              "uuid": "f782a841-6597-4138-bb33-dc295cefd635",
              "parentUUID": "7be7bc1f-7b3d-4ba1-80b1-d8f2795612e5",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "me as admin",
              "fullTitle": "Page /users/me me as admin",
              "timedOut": null,
              "duration": 4329,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "// Note : Vérifie que le contenu de la page est bien celui de l'utilisateur courant\ncy.visit(`http://localhost:5173/users/me`, {\n  onBeforeLoad: function (window) {\n    window.localStorage.setItem(\"token\", _tokens.adminToken);\n  }\n});\ncy.get(\"[data-test-username]\").should(\"contain.text\", \"admin\");",
              "err": {
                "message": "AssertionError: Timed out retrying after 4000ms: expected '<h1.text-center>' to contain text 'admin', but the text was ' Utilisateur charly Admin'",
                "estack": "AssertionError: Timed out retrying after 4000ms: expected '<h1.text-center>' to contain text 'admin', but the text was ' Utilisateur charly Admin'\n    at Context.eval (webpack://frontend/./cypress/e2e/frontend/user.cy.js:170:35)",
                "diff": "- ' Utilisateur charly Admin'\n+ 'admin'\n"
              },
              "uuid": "eb738015-d8ac-4038-9303-4859903b74b0",
              "parentUUID": "7be7bc1f-7b3d-4ba1-80b1-d8f2795612e5",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [],
          "failures": [
            "d3eb2fb6-6848-4cd8-bd2b-b23ff2c29cc9",
            "f782a841-6597-4138-bb33-dc295cefd635",
            "eb738015-d8ac-4038-9303-4859903b74b0"
          ],
          "pending": [],
          "skipped": [],
          "duration": 12999,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 2000
    },
    {
      "uuid": "6d11dc9c-6015-449b-bc05-b360d59adc59",
      "title": "",
      "fullFile": "cypress/e2e/frontend/view-product.cy.js",
      "file": "cypress/e2e/frontend/view-product.cy.js",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "c720fd84-04bb-4e88-b441-3b04069b5fee",
          "title": "Page /products/:productId",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "display product",
              "fullTitle": "Page /products/:productId display product",
              "timedOut": null,
              "duration": 64,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Note : Vérifie que tous les éléments du produit sont bien affichés\n(0, _orm.createProduct)().then(({\n  originalProduct,\n  product\n}) => {\n  cy.visit(`http://localhost:5173/products/${product.id}`);\n  cy.get(\"[data-test-product-name]\").should(\"have.text\", product.name);\n  cy.get(\"[data-test-product-description]\").should(\"have.text\", product.description);\n  cy.get(\"[data-test-product-picture]\").invoke(\"attr\", \"src\").should(\"eq\", product.pictureUrl);\n  cy.get(\"[data-test-product-price]\").should(\"contain.text\", product.originalPrice + \" €\");\n  cy.get(\"[data-test-product-end-date]\").should(\"contain.text\", originalProduct.endDate.toLocaleDateString(\"fr-FR\", {\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\"\n  }));\n  cy.get(\"[data-test-product-seller]\").should(\"have.text\", \"alice\").invoke(\"attr\", \"href\").should(\"contain\", _tokens.aliceId);\n});",
              "err": {},
              "uuid": "6e3e6cf6-72ce-4390-bed5-ecf5d15a0afc",
              "parentUUID": "c720fd84-04bb-4e88-b441-3b04069b5fee",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "finished countdown",
              "fullTitle": "Page /products/:productId finished countdown",
              "timedOut": null,
              "duration": 35,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Note : Si la date de fin de vente est passée, on affiche \"Terminé\"\n(0, _orm.createProduct)(\"past\").then(({\n  product\n}) => {\n  cy.visit(`http://localhost:5173/products/${product.id}`);\n  cy.get(\"[data-test-countdown]\").should(\"contain.text\", \"Terminé\");\n});",
              "err": {},
              "uuid": "f47369ac-ad21-488b-8437-6d979254e2cf",
              "parentUUID": "c720fd84-04bb-4e88-b441-3b04069b5fee",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "not finished countdown",
              "fullTitle": "Page /products/:productId not finished countdown",
              "timedOut": null,
              "duration": 29,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Note : Si la date de fin de vente est passée, on n'affiche pas \"Terminé\"\n(0, _orm.createProduct)(\"futur\").then(({\n  product\n}) => {\n  cy.visit(`http://localhost:5173/products/${product.id}`);\n  cy.get(\"[data-test-countdown]\").should(\"not.contain.text\", \"Terminé\");\n});",
              "err": {},
              "uuid": "d5b56a76-21b4-4a05-9565-f9e42e380061",
              "parentUUID": "c720fd84-04bb-4e88-b441-3b04069b5fee",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "display bids",
              "fullTitle": "Page /products/:productId display bids",
              "timedOut": null,
              "duration": 32,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Note : Vérifie que tous les éléments des offres du produit sont bien affichés\n(0, _orm.createBid)(_tokens.casserolesId, 200, _tokens.bobToken).then(({\n  bid\n}) => {\n  cy.visit(`http://localhost:5173/products/${_tokens.casserolesId}`);\n  cy.get(\"[data-test-bid]\").should(\"have.length\", 4);\n  cy.get(\"[data-test-bid]\").first().find(\"[data-test-bid-bidder]\").should(\"have.text\", \"charly\").invoke(\"attr\", \"href\").should(\"contain\", _tokens.charlyId);\n  cy.get(\"[data-test-bid]\").first().find(\"[data-test-bid-price]\").should(\"contain.text\", \"65 €\");\n  cy.get(\"[data-test-bid]\").last().find(\"[data-test-bid-bidder]\").should(\"have.text\", \"bob\").invoke(\"attr\", \"href\").should(\"contain\", _tokens.bobId);\n  cy.get(\"[data-test-bid]\").last().find(\"[data-test-bid-price]\").should(\"contain.text\", bid.price + \" €\");\n  cy.get(\"[data-test-bid]\").last().find(\"[data-test-bid-date]\").should(\"contain.text\", new Date().toLocaleDateString(\"fr-FR\", {\n    year: \"numeric\",\n    month: \"long\",\n    day: \"numeric\"\n  }));\n});",
              "err": {},
              "uuid": "6f8870ac-9921-4d3f-bae0-106dbaa9f1c2",
              "parentUUID": "c720fd84-04bb-4e88-b441-3b04069b5fee",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "some bids",
              "fullTitle": "Page /products/:productId some bids",
              "timedOut": null,
              "duration": 4526,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "// Note : Si au moins une offre existe, on affiche le tableau\ncy.visit(`http://localhost:5173/products/${_tokens.casserolesId}`);\ncy.get(\"[data-test-bids]\").should(\"exist\");\ncy.get(\"[data-test-no-bids]\").should(\"not.exist\");",
              "err": {
                "message": "AssertionError: Timed out retrying after 4000ms: Expected <p> not to exist in the DOM, but it was continuously found.",
                "estack": "AssertionError: Timed out retrying after 4000ms: Expected <p> not to exist in the DOM, but it was continuously found.\n    at Context.eval (webpack://frontend/./cypress/e2e/frontend/view-product.cy.js:128:34)",
                "diff": null
              },
              "uuid": "bf7b25c4-c996-42c4-b0a1-e896560808fe",
              "parentUUID": "c720fd84-04bb-4e88-b441-3b04069b5fee",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "no bids",
              "fullTitle": "Page /products/:productId no bids",
              "timedOut": null,
              "duration": 32,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "(0, _orm.createProduct)().then(({\n  product\n}) => {\n  // Note : Si aucune une offre ,'existe, on masque le tableau\n  cy.visit(`http://localhost:5173/products/${product.id}`);\n  cy.get(\"[data-test-bids]\").should(\"not.exist\");\n  cy.get(\"[data-test-no-bids]\").should(\"exist\");\n});",
              "err": {},
              "uuid": "f891b677-fd4e-4b95-8174-6dd6ef88d975",
              "parentUUID": "c720fd84-04bb-4e88-b441-3b04069b5fee",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "only seller and admin can edit or delete product",
              "fullTitle": "Page /products/:productId only seller and admin can edit or delete product",
              "timedOut": null,
              "duration": 4769,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "// Note : Vérifie que l'admin a accès aux boutons d'édition et de suppression\n// Note : Vérifie que l'utilisateur vendeur du produit a accès aux boutons d'édition et de suppression\n// Note : Vérifie qu'un utilisateur non vendeur du produit n'a pas accès aux boutons d'édition et de suppression\ncy.visit(`http://localhost:5173/products/${_tokens.casserolesId}`, {\n  onBeforeLoad: function (window) {\n    window.localStorage.setItem(\"token\", _tokens.adminToken);\n  }\n});\ncy.get(\"[data-test-edit-product]\").should(\"exist\");\ncy.get(\"[data-test-delete-product]\").should(\"exist\");\ncy.visit(`http://localhost:5173/products/${_tokens.casserolesId}`, {\n  onBeforeLoad: function (window) {\n    window.localStorage.setItem(\"token\", _tokens.aliceToken);\n  }\n});\ncy.get(\"[data-test-edit-product]\").should(\"exist\");\ncy.get(\"[data-test-delete-product]\").should(\"exist\");\ncy.visit(`http://localhost:5173/products/${_tokens.casserolesId}`, {\n  onBeforeLoad: function (window) {\n    window.localStorage.setItem(\"token\", _tokens.bobToken);\n  }\n});\ncy.get(\"[data-test-edit-product]\").should(\"not.exist\");\ncy.get(\"[data-test-delete-product]\").should(\"not.exist\");",
              "err": {
                "message": "AssertionError: Timed out retrying after 4000ms: Expected <a.btn.btn-primary> not to exist in the DOM, but it was continuously found.",
                "estack": "AssertionError: Timed out retrying after 4000ms: Expected <a.btn.btn-primary> not to exist in the DOM, but it was continuously found.\n    at Context.eval (webpack://frontend/./cypress/e2e/frontend/view-product.cy.js:171:39)",
                "diff": null
              },
              "uuid": "67e54dd5-34f1-43e2-a6f7-bd39fb3813c2",
              "parentUUID": "c720fd84-04bb-4e88-b441-3b04069b5fee",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "product edition button",
              "fullTitle": "Page /products/:productId product edition button",
              "timedOut": null,
              "duration": 4476,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "// Note : Vérifie que bouton d'édition d'un produit cible le bon endroit\ncy.visit(`http://localhost:5173/products/${_tokens.casserolesId}`, {\n  onBeforeLoad: function (window) {\n    window.localStorage.setItem(\"token\", _tokens.aliceToken);\n  }\n});\ncy.get(\"[data-test-edit-product]\").should(\"exist\").invoke(\"attr\", \"href\").should(\"contain\", _tokens.casserolesId).should(\"contain\", \"/edit\");",
              "err": {
                "message": "AssertionError: Timed out retrying after 4000ms: expected '/products/TODO/edit' to include 'a0f7c522-78f8-442e-a55d-642cfe566634'",
                "estack": "AssertionError: Timed out retrying after 4000ms: expected '/products/TODO/edit' to include 'a0f7c522-78f8-442e-a55d-642cfe566634'\n    at Context.eval (webpack://frontend/./cypress/e2e/frontend/view-product.cy.js:187:7)",
                "diff": null
              },
              "uuid": "a8614483-77df-4ed5-8bf3-5827eaeb97fb",
              "parentUUID": "c720fd84-04bb-4e88-b441-3b04069b5fee",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "product deletion button",
              "fullTitle": "Page /products/:productId product deletion button",
              "timedOut": null,
              "duration": 181,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Note : Vérifie que bouton de suppression d'un produit supprime bien le produit\ncy.visit(`http://localhost:5173/products/${_tokens.casserolesId}`, {\n  onBeforeLoad: function (window) {\n    window.localStorage.setItem(\"token\", _tokens.aliceToken);\n  }\n});\n(0, _orm.getProducts)().then(({\n  products: productsBeforeDeletion\n}) => {\n  cy.get(\"[data-test-delete-product]\").click();\n  (0, _orm.getProducts)().then(({\n    products: productsAfterDeletion\n  }) => {\n    expect(productsBeforeDeletion.length).to.be.greaterThan(productsAfterDeletion.length);\n  });\n});",
              "err": {},
              "uuid": "d692b8c3-0c83-4de9-ae18-d257f1eb2af8",
              "parentUUID": "c720fd84-04bb-4e88-b441-3b04069b5fee",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "admin can delete bid",
              "fullTitle": "Page /products/:productId admin can delete bid",
              "timedOut": null,
              "duration": 4511,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "// Note : Vérifie que l'admin peut supprimer n'importe quel offre\ncy.visit(`http://localhost:5173/products/${_tokens.casserolesId}`, {\n  onBeforeLoad: function (window) {\n    window.localStorage.setItem(\"token\", _tokens.adminToken);\n  }\n});\ncy.get(\"[data-test-delete-bid]\").should(\"have.length\", 3);",
              "err": {
                "message": "AssertionError: Timed out retrying after 4000ms: Too many elements found. Found '10', expected '3'.",
                "estack": "AssertionError: Timed out retrying after 4000ms: Too many elements found. Found '10', expected '3'.\n    at Context.eval (webpack://frontend/./cypress/e2e/frontend/view-product.cy.js:220:37)",
                "diff": "- 10\n+ 3\n"
              },
              "uuid": "dfed2d4b-49f9-4ddd-b32d-a7a5d96dd92d",
              "parentUUID": "c720fd84-04bb-4e88-b441-3b04069b5fee",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "bidder can delete bid",
              "fullTitle": "Page /products/:productId bidder can delete bid",
              "timedOut": null,
              "duration": 4482,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "// Note : Vérifie qu'une offre est supprimable par l'utilisateur l'ayant fait\ncy.visit(`http://localhost:5173/products/${_tokens.casserolesId}`, {\n  onBeforeLoad: function (window) {\n    window.localStorage.setItem(\"token\", _tokens.bobToken);\n  }\n});\ncy.get(\"[data-test-delete-bid]\").should(\"have.length\", 1);\ncy.visit(`http://localhost:5173/products/${_tokens.casserolesId}`, {\n  onBeforeLoad: function (window) {\n    window.localStorage.setItem(\"token\", _tokens.charlyToken);\n  }\n});\ncy.get(\"[data-test-delete-bid]\").should(\"have.length\", 2);",
              "err": {
                "message": "AssertionError: Timed out retrying after 4000ms: Too many elements found. Found '10', expected '1'.",
                "estack": "AssertionError: Timed out retrying after 4000ms: Too many elements found. Found '10', expected '1'.\n    at Context.eval (webpack://frontend/./cypress/e2e/frontend/view-product.cy.js:232:37)",
                "diff": "- 10\n+ 1\n"
              },
              "uuid": "be64bb34-89fa-4108-81e3-d6d426138715",
              "parentUUID": "c720fd84-04bb-4e88-b441-3b04069b5fee",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "not bidder cannot delete bid",
              "fullTitle": "Page /products/:productId not bidder cannot delete bid",
              "timedOut": null,
              "duration": 4454,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "// Note : Vérifie qu'une offre n'est supprimable par un utilisateur ne l'ayant pas fait\ncy.visit(`http://localhost:5173/products/${_tokens.casserolesId}`, {\n  onBeforeLoad: function (window) {\n    window.localStorage.setItem(\"token\", _tokens.aliceToken);\n  }\n});\ncy.get(\"[data-test-delete-bid]\").should(\"have.length\", 0);",
              "err": {
                "message": "AssertionError: Timed out retrying after 4000ms: Too many elements found. Found '10', expected '0'.",
                "estack": "AssertionError: Timed out retrying after 4000ms: Too many elements found. Found '10', expected '0'.\n    at Context.eval (webpack://frontend/./cypress/e2e/frontend/view-product.cy.js:252:37)",
                "diff": null
              },
              "uuid": "bd6c70dc-8b2d-45b8-8119-b73997612045",
              "parentUUID": "c720fd84-04bb-4e88-b441-3b04069b5fee",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "bid deletion button",
              "fullTitle": "Page /products/:productId bid deletion button",
              "timedOut": null,
              "duration": 4450,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "// Note : Vérifie que le bouton de suppression d'une offre fonctionne bien\ncy.visit(`http://localhost:5173/products/${_tokens.casserolesId}`, {\n  onBeforeLoad: function (window) {\n    window.localStorage.setItem(\"token\", _tokens.bobToken);\n  }\n});\ncy.get(\"[data-test-delete-bid]\").should(\"have.length\", 1);\n(0, _orm.getProduct)(_tokens.casserolesId).then(({\n  product: productBeforeBidDeletion\n}) => {\n  cy.get(\"[data-test-delete-bid]\").click();\n  cy.get(\"[data-test-delete-bid]\").should(\"have.length\", 0);\n  (0, _orm.getProduct)(_tokens.casserolesId).then(({\n    product: productAfterBidDeletion\n  }) => {\n    expect(productBeforeBidDeletion.bids.length).to.be.greaterThan(productAfterBidDeletion.bids.length);\n  });\n});",
              "err": {
                "message": "AssertionError: Timed out retrying after 4000ms: Too many elements found. Found '10', expected '1'.",
                "estack": "AssertionError: Timed out retrying after 4000ms: Too many elements found. Found '10', expected '1'.\n    at Context.eval (webpack://frontend/./cypress/e2e/frontend/view-product.cy.js:264:37)",
                "diff": "- 10\n+ 1\n"
              },
              "uuid": "99c91daa-6dec-4858-8ccc-a243ade9f18a",
              "parentUUID": "c720fd84-04bb-4e88-b441-3b04069b5fee",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "only seller cannot add a bid",
              "fullTitle": "Page /products/:productId only seller cannot add a bid",
              "timedOut": null,
              "duration": 4458,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "// Note : Vérifie que le vendeur ne peut pas faire d'offre sur son produit\n// Note : Vérifie qu'un non-vendeur peut faire une offre sur le produit\ncy.visit(`http://localhost:5173/products/${_tokens.casserolesId}`, {\n  onBeforeLoad: function (window) {\n    window.localStorage.setItem(\"token\", _tokens.aliceToken);\n  }\n});\ncy.get(\"[data-test-submit-bid]\").should(\"not.exist\");\ncy.visit(`http://localhost:5173/products/${_tokens.casserolesId}`, {\n  onBeforeLoad: function (window) {\n    window.localStorage.setItem(\"token\", _tokens.bobToken);\n  }\n});\ncy.get(\"[data-test-submit-bid]\").should(\"exist\");",
              "err": {
                "message": "AssertionError: Timed out retrying after 4000ms: Expected <button.btn.btn-primary> not to exist in the DOM, but it was continuously found.",
                "estack": "AssertionError: Timed out retrying after 4000ms: Expected <button.btn.btn-primary> not to exist in the DOM, but it was continuously found.\n    at Context.eval (webpack://frontend/./cypress/e2e/frontend/view-product.cy.js:288:37)",
                "diff": null
              },
              "uuid": "12cc09f2-0881-4253-b724-8c38bb67cebb",
              "parentUUID": "c720fd84-04bb-4e88-b441-3b04069b5fee",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "require minimum bid amount",
              "fullTitle": "Page /products/:productId require minimum bid amount",
              "timedOut": null,
              "duration": 4849,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "// Note : Vérifie que le formulaire d'offre est validable seulement quand l'offre est supérieur au prix de départ et à la plus haute offre\ncy.visit(`http://localhost:5173/products/${_tokens.casserolesId}`, {\n  onBeforeLoad: function (window) {\n    window.localStorage.setItem(\"token\", _tokens.bobToken);\n  }\n});\ncy.get(\"[data-test-bid-form-price]\").type(\"{selectAll}{del}\").type(100);\ncy.get(\"[data-test-submit-bid]\").should(\"have.attr\", \"disabled\");\ncy.get(\"[data-test-bid-form-price]\").type(\"{selectAll}{del}\").type(200);\ncy.get(\"[data-test-submit-bid]\").should(\"not.have.attr\", \"disabled\");",
              "err": {
                "message": "AssertionError: Timed out retrying after 4000ms: expected '<button.btn.btn-primary>' not to have attribute 'disabled'",
                "estack": "AssertionError: Timed out retrying after 4000ms: expected '<button.btn.btn-primary>' not to have attribute 'disabled'\n    at Context.eval (webpack://frontend/./cypress/e2e/frontend/view-product.cy.js:314:37)",
                "diff": null
              },
              "uuid": "171fa27c-b52f-4825-b68e-cf0b0ce7ce49",
              "parentUUID": "c720fd84-04bb-4e88-b441-3b04069b5fee",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "preset minimum bid amount",
              "fullTitle": "Page /products/:productId preset minimum bid amount",
              "timedOut": null,
              "duration": 26,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Note : Vérifie que le formulaire d'offre vaut part défaut le prix de la plus haute offre + 1€\n(0, _orm.createProduct)(\"futur\", _tokens.aliceToken).then(({\n  product\n}) => {\n  (0, _orm.createBid)(product.id, product.originalPrice, _tokens.bobToken).then(({\n    bid\n  }) => {\n    cy.visit(`http://localhost:5173/products/${product.id}`, {\n      onBeforeLoad: function (window) {\n        window.localStorage.setItem(\"token\", _tokens.charlyToken);\n      }\n    });\n    cy.get(\"[data-test-bid-form-price]\").should(\"have.value\", bid.price + 1);\n  });\n});",
              "err": {},
              "uuid": "edab858c-9220-488e-9cf2-e48c62c478d5",
              "parentUUID": "c720fd84-04bb-4e88-b441-3b04069b5fee",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "add a bid",
              "fullTitle": "Page /products/:productId add a bid",
              "timedOut": null,
              "duration": 539,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Note : Vérifie que la soumission du formulaire d'offre ajoute bien une offre\ncy.visit(`http://localhost:5173/products/${_tokens.casserolesId}`, {\n  onBeforeLoad: function (window) {\n    window.localStorage.setItem(\"token\", _tokens.bobToken);\n  }\n});\ncy.get(\"[data-test-bid-form-price]\").type(\"{selectAll}{del}\").type(200);\n(0, _orm.getProduct)(_tokens.casserolesId).then(({\n  product: productBeforeBidAddition\n}) => {\n  cy.get(\"[data-test-submit-bid]\").click();\n  (0, _orm.getProduct)(_tokens.casserolesId).then(({\n    product: productAfterBidAddition\n  }) => {\n    expect(productAfterBidAddition.bids.length).greaterThan(productBeforeBidAddition.bids.length);\n    const lastBid = productAfterBidAddition.bids[productAfterBidAddition.bids.length - 1];\n    expect(lastBid.price).to.eq(200);\n  });\n});",
              "err": {},
              "uuid": "32c17bc2-cf76-45a7-a27a-70e70218269e",
              "parentUUID": "c720fd84-04bb-4e88-b441-3b04069b5fee",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "pending countdown",
              "fullTitle": "Page /products/:productId pending countdown",
              "timedOut": null,
              "duration": 36,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Note : Vérifie le décompte du compte à rebours, afficher au format 9j 23h 59m 59s\n(0, _orm.createProduct)(\"ten_days_later\").then(({\n  product\n}) => {\n  cy.visit(`http://localhost:5173/products/${product.id}`);\n  cy.get(\"[data-test-countdown]\").should(\"contain.text\", \"9j 23h 59min\");\n  cy.get(\"[data-test-countdown]\").then(el => {\n    const instantOne = el.text();\n    expect(instantOne).to.match(/\\ds$/);\n    // eslint-disable-next-line cypress/no-unnecessary-waiting\n    cy.wait(1000);\n    cy.get(\"[data-test-countdown]\").then(el => {\n      const instantTwo = el.text();\n      expect(instantOne).to.match(/\\ds$/);\n      // eslint-disable-next-line cypress/no-unnecessary-waiting\n      cy.wait(1000);\n      expect(instantTwo).not.eq(instantOne);\n      cy.get(\"[data-test-countdown]\").then(el => {\n        const instantThree = el.text();\n        expect(instantOne).to.match(/\\ds$/);\n        // eslint-disable-next-line cypress/no-unnecessary-waiting\n        cy.wait(1000);\n        expect(instantThree).not.eq(instantTwo);\n      });\n    });\n  });\n});",
              "err": {},
              "uuid": "1dc2825d-5ba8-4a5f-b2a7-f2d16a88476f",
              "parentUUID": "c720fd84-04bb-4e88-b441-3b04069b5fee",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "loading",
              "fullTitle": "Page /products/:productId loading",
              "timedOut": null,
              "duration": 4397,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "// Note : Vérifie la présence d'un spinner au chargement\ncy.intercept(\"http://localhost:3000/api/products\", {\n  delay: 10000\n});\ncy.visit(`http://localhost:5173/products/${_tokens.casserolesId}`);\ncy.get(\"[data-test-loading]\").should(\"exist\");\ncy.get(\"[data-test-error]\").should(\"not.exist\");\ncy.get(\"[data-test-product]\").should(\"not.exist\");",
              "err": {
                "message": "AssertionError: Timed out retrying after 4000ms: Expected <div.alert.alert-danger.mt-4> not to exist in the DOM, but it was continuously found.",
                "estack": "AssertionError: Timed out retrying after 4000ms: Expected <div.alert.alert-danger.mt-4> not to exist in the DOM, but it was continuously found.\n    at Context.eval (webpack://frontend/./cypress/e2e/frontend/view-product.cy.js:408:32)",
                "diff": null
              },
              "uuid": "3482a5cc-e203-4983-8dff-785c1ff8d39f",
              "parentUUID": "c720fd84-04bb-4e88-b441-3b04069b5fee",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "error message",
              "fullTitle": "Page /products/:productId error message",
              "timedOut": null,
              "duration": 4455,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "// Note : Vérifie la présence d'une erreur en cas d'échec de chargement\ncy.intercept(`http://localhost:3000/api/products/${_tokens.casserolesId}`, {\n  status: 500,\n  response: {}\n});\ncy.visit(`http://localhost:5173/products/${_tokens.casserolesId}`);\ncy.get(\"[data-test-loading]\").should(\"not.exist\");\ncy.get(\"[data-test-error]\").should(\"exist\");\ncy.get(\"[data-test-product]\").should(\"not.exist\");",
              "err": {
                "message": "AssertionError: Timed out retrying after 4000ms: Expected <div.text-center.mt-4> not to exist in the DOM, but it was continuously found.",
                "estack": "AssertionError: Timed out retrying after 4000ms: Expected <div.text-center.mt-4> not to exist in the DOM, but it was continuously found.\n    at Context.eval (webpack://frontend/./cypress/e2e/frontend/view-product.cy.js:422:34)",
                "diff": null
              },
              "uuid": "57e29359-0463-4681-9d57-63e8bf6d7a1c",
              "parentUUID": "c720fd84-04bb-4e88-b441-3b04069b5fee",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "ready",
              "fullTitle": "Page /products/:productId ready",
              "timedOut": null,
              "duration": 4561,
              "state": "failed",
              "speed": null,
              "pass": false,
              "fail": true,
              "pending": false,
              "context": null,
              "code": "// Note : Vérifie la présence du contenu quand tout s'est bien chargé\ncy.intercept(`http://localhost:3000/api/products/${_tokens.casserolesId}`);\ncy.visit(`http://localhost:5173/products/${_tokens.casserolesId}`);\ncy.get(\"[data-test-loading]\").should(\"not.exist\");\ncy.get(\"[data-test-error]\").should(\"not.exist\");\ncy.get(\"[data-test-product]\").should(\"exist\");",
              "err": {
                "message": "AssertionError: Timed out retrying after 4000ms: Expected <div.text-center.mt-4> not to exist in the DOM, but it was continuously found.",
                "estack": "AssertionError: Timed out retrying after 4000ms: Expected <div.text-center.mt-4> not to exist in the DOM, but it was continuously found.\n    at Context.eval (webpack://frontend/./cypress/e2e/frontend/view-product.cy.js:434:34)",
                "diff": null
              },
              "uuid": "336b3481-194b-438a-a7ae-d920463d2da1",
              "parentUUID": "c720fd84-04bb-4e88-b441-3b04069b5fee",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "6e3e6cf6-72ce-4390-bed5-ecf5d15a0afc",
            "f47369ac-ad21-488b-8437-6d979254e2cf",
            "d5b56a76-21b4-4a05-9565-f9e42e380061",
            "6f8870ac-9921-4d3f-bae0-106dbaa9f1c2",
            "f891b677-fd4e-4b95-8174-6dd6ef88d975",
            "d692b8c3-0c83-4de9-ae18-d257f1eb2af8",
            "edab858c-9220-488e-9cf2-e48c62c478d5",
            "32c17bc2-cf76-45a7-a27a-70e70218269e",
            "1dc2825d-5ba8-4a5f-b2a7-f2d16a88476f"
          ],
          "failures": [
            "bf7b25c4-c996-42c4-b0a1-e896560808fe",
            "67e54dd5-34f1-43e2-a6f7-bd39fb3813c2",
            "a8614483-77df-4ed5-8bf3-5827eaeb97fb",
            "dfed2d4b-49f9-4ddd-b32d-a7a5d96dd92d",
            "be64bb34-89fa-4108-81e3-d6d426138715",
            "bd6c70dc-8b2d-45b8-8119-b73997612045",
            "99c91daa-6dec-4858-8ccc-a243ade9f18a",
            "12cc09f2-0881-4253-b724-8c38bb67cebb",
            "171fa27c-b52f-4825-b68e-cf0b0ce7ce49",
            "3482a5cc-e203-4983-8dff-785c1ff8d39f",
            "57e29359-0463-4681-9d57-63e8bf6d7a1c",
            "336b3481-194b-438a-a7ae-d920463d2da1"
          ],
          "pending": [],
          "skipped": [],
          "duration": 55362,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 2000
    },
    {
      "uuid": "bc7e33b2-3b0c-44f2-93c8-ce865e459f34",
      "title": "",
      "fullFile": "cypress/e2e/backend/endpoints.cy.js",
      "file": "cypress/e2e/backend/endpoints.cy.js",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "661abb2e-df94-4ad2-9482-ea65bb8b3dff",
          "title": "GET /api/products",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "returns 200 - success",
              "fullTitle": "GET /api/products returns 200 - success",
              "timedOut": null,
              "duration": 404,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request(endpoint).then(response => {\n  expect(response.status).to.be.eq(200);\n  expect(response.headers[\"content-type\"]).to.contains(\"application/json\");\n  for (let product of response.body) {\n    expect(product.id).to.be.a(\"string\");\n    expect(product.id).to.be.match(_pattern.UUIDv4);\n    expect(product.name).to.be.a(\"string\");\n    expect(product.description).to.be.a(\"string\");\n    expect(product.category).to.be.a(\"string\");\n    expect(product.originalPrice).to.be.a(\"number\");\n    expect(product.pictureUrl).to.be.a(\"string\");\n    expect(product.endDate).to.be.a(\"string\");\n    expect(product.endDate).to.match(_pattern.IOS8601);\n    expect(product.seller.id).to.be.a(\"string\");\n    expect(product.seller.username).to.be.a(\"string\");\n    for (let bid of product.bids) {\n      expect(bid.id).to.be.a(\"string\");\n      expect(bid.id).to.match(_pattern.UUIDv4);\n      expect(bid.price).to.be.a(\"number\");\n      expect(bid.date).to.be.a(\"string\");\n      expect(bid.date).to.match(_pattern.IOS8601);\n    }\n    const fixtureProduct = response.body.find(item => {\n      return item.id === \"a0f7c522-78f8-442e-a55d-642cfe566634\";\n    });\n    expect(fixtureProduct.id).to.be.eq(\"a0f7c522-78f8-442e-a55d-642cfe566634\");\n    expect(fixtureProduct.name).to.be.eq(\"Lot de casseroles\");\n    expect(fixtureProduct.description).to.be.eq(\"Ensemble de casseroles de qualité supérieure pour répondre à tous vos besoins culinaires.\");\n    expect(fixtureProduct.category).to.be.eq(\"Cuisine\");\n    expect(fixtureProduct.originalPrice).to.be.eq(40);\n    expect(fixtureProduct.pictureUrl).to.be.eq(\"https://image.noelshack.com/fichiers/2023/12/4/1679526253-65535-51812547429-fe1cc0d832-c-512-512-nofilter.jpg\");\n    expect(fixtureProduct.seller.id).to.be.eq(_tokens.aliceId);\n    expect(fixtureProduct.seller.username).to.be.eq(\"alice\");\n    expect(fixtureProduct.bids.some(bid => bid.price === 65)).to.be.true;\n  }\n});",
              "err": {},
              "uuid": "fe82a9b0-4410-44af-afbb-516f07d505a0",
              "parentUUID": "661abb2e-df94-4ad2-9482-ea65bb8b3dff",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "fe82a9b0-4410-44af-afbb-516f07d505a0"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 404,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "24c6bc01-7a3d-4085-9b32-892c832a491b",
          "title": "POST /api/products",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "returns 401 - not authorized",
              "fullTitle": "POST /api/products returns 401 - not authorized",
              "timedOut": null,
              "duration": 55,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  method: \"POST\",\n  url: \"http://localhost:3000/api/products\",\n  headers: {\n    Authorization: `Bearer BAD_TOKEN`\n  },\n  body: {\n    name: \"New Product\",\n    description: \"This is a new product\",\n    category: \"Electronics\",\n    originalPrice: 99,\n    pictureUrl: \"https://example.com/product.jpg\",\n    endDate: \"2023-04-01T00:00:00.000Z\"\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 401);",
              "err": {},
              "uuid": "98c653ea-a5cb-4f9f-9eaa-e7667ad88273",
              "parentUUID": "24c6bc01-7a3d-4085-9b32-892c832a491b",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 201 - created",
              "fullTitle": "POST /api/products returns 201 - created",
              "timedOut": null,
              "duration": 28,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Create a new product\ncy.request({\n  method: \"POST\",\n  url: \"http://localhost:3000/api/products\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  },\n  body: {\n    name: \"New Product\",\n    description: \"This is a new product\",\n    category: \"Electronics\",\n    originalPrice: 99,\n    pictureUrl: \"https://example.com/product.jpg\",\n    endDate: \"2023-04-01T00:00:00.000Z\"\n  }\n}).then(response => {\n  // Assert that the response is as expected\n  expect(response.status).to.eq(201);\n  expect(response.body.id).to.be.match(_pattern.UUIDv4);\n  expect(response.body.name).to.eq(\"New Product\");\n  expect(response.body.description).to.eq(\"This is a new product\");\n  expect(response.body.category).to.eq(\"Electronics\");\n  expect(response.body.originalPrice).to.eq(99);\n  expect(response.body.pictureUrl).to.eq(\"https://example.com/product.jpg\");\n  expect(response.body.endDate).to.eq(\"2023-04-01T00:00:00.000Z\");\n  expect(response.body.sellerId).to.eq(_tokens.aliceId);\n});",
              "err": {},
              "uuid": "68465c96-e2f0-4c82-9354-ebdc7c1cb940",
              "parentUUID": "24c6bc01-7a3d-4085-9b32-892c832a491b",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 400 - missing or invalid fields",
              "fullTitle": "POST /api/products returns 400 - missing or invalid fields",
              "timedOut": null,
              "duration": 42,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Create a new product\ncy.request({\n  method: \"POST\",\n  url: \"http://localhost:3000/api/products\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  },\n  body: {\n    // Missing name: \"Machine à écrire\",\n    description: \"Machine à écrire vintage en parfait état de fonctionnement pour une expérience d'écriture unique et authentique.\",\n    pictureUrl: \"https://picsum.photos/id/403/512/512\",\n    category: \"High-Tech\",\n    originalPrice: 200,\n    endDate: \"2026-01-01T09:00:00Z\"\n  },\n  failOnStatusCode: false\n}).then(req => {\n  expect(req.status).to.be.eq(400);\n  expect(req.body.error).to.be.eq(\"Invalid or missing fields\");\n  expect(req.body.details).to.exist;\n});",
              "err": {},
              "uuid": "7951e2f5-b41d-4b62-9844-0cb2089dedc9",
              "parentUUID": "24c6bc01-7a3d-4085-9b32-892c832a491b",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "check mutation - object created in database",
              "fullTitle": "POST /api/products check mutation - object created in database",
              "timedOut": null,
              "duration": 47,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Create a new product\n(0, _orm.getProducts)().then(({\n  products: productsBeforeCreation\n}) => {\n  (0, _orm.createProduct)().then(({\n    product\n  }) => {\n    (0, _orm.getProducts)().then(({\n      products: productsAfterCreation\n    }) => {\n      const newProducts = productsAfterCreation.filter(product => productsBeforeCreation.every(existingProduct => existingProduct.id !== product.id));\n      expect(newProducts.length).to.be.eq(1);\n      const newProduct = newProducts[0];\n      expect(newProduct.id).to.be.match(_pattern.UUIDv4);\n      expect(newProduct.name).to.eq(name);\n      expect(newProduct.description).to.eq(product.description);\n      expect(newProduct.category).to.eq(product.category);\n      expect(newProduct.originalPrice).to.eq(product.originalPrice);\n      expect(newProduct.pictureUrl).to.eq(product.pictureUrl);\n      expect(newProduct.endDate).to.eq(product.endDate);\n      expect(newProduct.seller.id).to.eq(_tokens.aliceId);\n      expect(newProduct.seller.username).to.eq(\"alice\");\n    });\n  });\n});",
              "err": {},
              "uuid": "cf7ec7fe-f7b3-4720-8435-6cd5e559b344",
              "parentUUID": "24c6bc01-7a3d-4085-9b32-892c832a491b",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "98c653ea-a5cb-4f9f-9eaa-e7667ad88273",
            "68465c96-e2f0-4c82-9354-ebdc7c1cb940",
            "7951e2f5-b41d-4b62-9844-0cb2089dedc9",
            "cf7ec7fe-f7b3-4720-8435-6cd5e559b344"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 172,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "0fad970b-eab9-43cd-a3a0-190754c6e918",
          "title": "GET /api/products/:productId",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "returns 404 - not found",
              "fullTitle": "GET /api/products/:productId returns 404 - not found",
              "timedOut": null,
              "duration": 27,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: \"http://localhost:3000/api/products/not-existing-id\",\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 404);",
              "err": {},
              "uuid": "3f488b2b-22e4-4540-a197-2a4353485918",
              "parentUUID": "0fad970b-eab9-43cd-a3a0-190754c6e918",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 200 - success",
              "fullTitle": "GET /api/products/:productId returns 200 - success",
              "timedOut": null,
              "duration": 32,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request(endpoint).then(response => {\n  expect(response.status).to.be.eq(200);\n  expect(response.headers[\"content-type\"]).to.includes(\"application/json\");\n  const product = response.body;\n  expect(product.id).to.be.eq(\"a0f7c522-78f8-442e-a55d-642cfe566634\");\n  expect(product.name).to.be.eq(\"Lot de casseroles\");\n  expect(product.description).to.be.eq(\"Ensemble de casseroles de qualité supérieure pour répondre à tous vos besoins culinaires.\");\n  expect(product.category).to.be.eq(\"Cuisine\");\n  expect(product.originalPrice).to.be.eq(40);\n  expect(product.pictureUrl).to.be.eq(\"https://image.noelshack.com/fichiers/2023/12/4/1679526253-65535-51812547429-fe1cc0d832-c-512-512-nofilter.jpg\");\n  expect(product.seller.id).to.be.eq(_tokens.aliceId);\n  expect(product.seller.username).to.be.eq(\"alice\");\n  const bid = response.body.bids.find(bid => bid.price === 65);\n  expect(bid.id).to.be.eq(\"8ccc6e79-f3c9-43e9-b47e-5be7b84d8de7\");\n  expect(bid.bidder.id).to.be.eq(_tokens.charlyId);\n  expect(bid.bidder.username).to.be.eq(\"charly\");\n});",
              "err": {},
              "uuid": "5930b34f-580f-4a51-a19b-284f5b732fea",
              "parentUUID": "0fad970b-eab9-43cd-a3a0-190754c6e918",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "3f488b2b-22e4-4540-a197-2a4353485918",
            "5930b34f-580f-4a51-a19b-284f5b732fea"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 59,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "3043d484-000b-4760-a6b1-8c1106fc11cc",
          "title": "PUT /api/products/:productId",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "returns 401 - not authorized",
              "fullTitle": "PUT /api/products/:productId returns 401 - not authorized",
              "timedOut": null,
              "duration": 35,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  method: \"PUT\",\n  url: endpoint,\n  headers: {\n    Authorization: `Bearer BAD_TOKEN`\n  },\n  body: {\n    name: \"Machine à écrire\",\n    description: \"Machine à écrire vintage en parfait état de fonctionnement pour une expérience d'écriture unique et authentique.\",\n    pictureUrl: \"https://picsum.photos/id/403/512/512\",\n    category: \"High-Tech\",\n    originalPrice: 200,\n    endDate: \"2026-01-01T09:00:00Z\"\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 401);",
              "err": {},
              "uuid": "d6955de3-8d9b-495f-a708-655b5f7b270f",
              "parentUUID": "3043d484-000b-4760-a6b1-8c1106fc11cc",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 200 - success, when owner edit",
              "fullTitle": "PUT /api/products/:productId returns 200 - success, when owner edit",
              "timedOut": null,
              "duration": 33,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: endpoint,\n  method: \"PUT\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  },\n  body: {\n    name: \"Machine à écrire\",\n    description: \"Machine à écrire vintage en parfait état de fonctionnement pour une expérience d'écriture unique et authentique.\",\n    pictureUrl: \"https://picsum.photos/id/403/512/512\",\n    category: \"High-Tech\",\n    originalPrice: 200,\n    endDate: \"2026-01-01T09:00:00Z\"\n  }\n}).its(\"status\").should(\"equal\", 200);",
              "err": {},
              "uuid": "ff9fcd85-3a4f-45a6-83fe-515d6d3e91c6",
              "parentUUID": "3043d484-000b-4760-a6b1-8c1106fc11cc",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 403 - forbidden, when non owner edit",
              "fullTitle": "PUT /api/products/:productId returns 403 - forbidden, when non owner edit",
              "timedOut": null,
              "duration": 30,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: endpoint,\n  method: \"PUT\",\n  headers: {\n    Authorization: `Bearer ${_tokens.bobToken}`\n  },\n  body: {\n    name: \"Machine à écrire\",\n    description: \"Machine à écrire vintage en parfait état de fonctionnement pour une expérience d'écriture unique et authentique.\",\n    pictureUrl: \"https://picsum.photos/id/403/512/512\",\n    category: \"High-Tech\",\n    originalPrice: 200,\n    endDate: \"2026-01-01T09:00:00Z\"\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 403);",
              "err": {},
              "uuid": "c70e7f90-deb3-44b9-aa68-24813e0375ca",
              "parentUUID": "3043d484-000b-4760-a6b1-8c1106fc11cc",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 200 - success, when admin edit",
              "fullTitle": "PUT /api/products/:productId returns 200 - success, when admin edit",
              "timedOut": null,
              "duration": 35,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: endpoint,\n  method: \"PUT\",\n  headers: {\n    Authorization: `Bearer ${_tokens.adminToken}`\n  },\n  body: {\n    name: \"Machine à écrire\",\n    description: \"Machine à écrire vintage en parfait état de fonctionnement pour une expérience d'écriture unique et authentique.\",\n    pictureUrl: \"https://picsum.photos/id/403/512/512\",\n    category: \"High-Tech\",\n    originalPrice: 200,\n    endDate: \"2026-01-01T09:00:00Z\"\n  }\n}).its(\"status\").should(\"equal\", 200);",
              "err": {},
              "uuid": "cd2c06d3-4e26-4661-bb97-c438dae5b6ea",
              "parentUUID": "3043d484-000b-4760-a6b1-8c1106fc11cc",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 404 - not found",
              "fullTitle": "PUT /api/products/:productId returns 404 - not found",
              "timedOut": null,
              "duration": 33,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: \"http://localhost:3000/api/products/not-existing-id\",\n  method: \"PUT\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  },\n  body: {\n    name: \"Machine à écrire\",\n    description: \"Machine à écrire vintage en parfait état de fonctionnement pour une expérience d'écriture unique et authentique.\",\n    pictureUrl: \"https://picsum.photos/id/403/512/512\",\n    category: \"High-Tech\",\n    originalPrice: 200,\n    endDate: \"2026-01-01T09:00:00Z\"\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 404);",
              "err": {},
              "uuid": "df734704-32ba-44ff-9319-da46cc9cd3bf",
              "parentUUID": "3043d484-000b-4760-a6b1-8c1106fc11cc",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "check mutation - object updated in database",
              "fullTitle": "PUT /api/products/:productId check mutation - object updated in database",
              "timedOut": null,
              "duration": 30,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "const newProductData = (0, _orm.buildProduct)();\ncy.request({\n  url: endpoint,\n  method: \"PUT\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  },\n  body: {\n    name: newProductData.name,\n    description: newProductData.description,\n    pictureUrl: newProductData.pictureUrl,\n    category: newProductData.category,\n    originalPrice: newProductData.originalPrice,\n    endDate: newProductData.endDate.toISOString()\n  }\n}).then(() => {\n  cy.request(endpoint).then(response => {\n    const product = response.body;\n    expect(response.status).to.be.eq(200);\n    expect(product.id).to.be.eq(\"a0f7c522-78f8-442e-a55d-642cfe566634\");\n    expect(product.name).to.be.eq(newProductData.name);\n    expect(product.description).to.be.eq(newProductData.description);\n    expect(product.category).to.be.eq(newProductData.category);\n    expect(product.originalPrice).to.be.eq(newProductData.originalPrice);\n    expect(product.pictureUrl).to.be.eq(newProductData.pictureUrl);\n    expect(product.endDate).to.be.eq(newProductData.endDate.toISOString());\n    expect(product.seller.id).to.be.eq(_tokens.aliceId);\n    expect(product.seller.username).to.be.eq(\"alice\");\n  });\n});",
              "err": {},
              "uuid": "da176abf-1168-481e-bc81-54fd1a921623",
              "parentUUID": "3043d484-000b-4760-a6b1-8c1106fc11cc",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "d6955de3-8d9b-495f-a708-655b5f7b270f",
            "ff9fcd85-3a4f-45a6-83fe-515d6d3e91c6",
            "c70e7f90-deb3-44b9-aa68-24813e0375ca",
            "cd2c06d3-4e26-4661-bb97-c438dae5b6ea",
            "df734704-32ba-44ff-9319-da46cc9cd3bf",
            "da176abf-1168-481e-bc81-54fd1a921623"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 196,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "39114958-fdb2-4909-88f2-c771d9985c06",
          "title": "DELETE /api/products/:productId",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "returns 401 - not authorized",
              "fullTitle": "DELETE /api/products/:productId returns 401 - not authorized",
              "timedOut": null,
              "duration": 23,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  method: \"DELETE\",\n  url: endpoint,\n  headers: {\n    Authorization: `Bearer BAD_TOKEN`\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 401);",
              "err": {},
              "uuid": "1134660a-5ecf-4852-99f5-5e59d5582fca",
              "parentUUID": "39114958-fdb2-4909-88f2-c771d9985c06",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 204 - success, when owner edit",
              "fullTitle": "DELETE /api/products/:productId returns 204 - success, when owner edit",
              "timedOut": null,
              "duration": 33,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: endpoint,\n  method: \"DELETE\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  }\n}).its(\"status\").should(\"equal\", 204);",
              "err": {},
              "uuid": "7ad451be-0ecd-4319-bb52-85a5bdedc25c",
              "parentUUID": "39114958-fdb2-4909-88f2-c771d9985c06",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 403 - forbidden, when non owner edit",
              "fullTitle": "DELETE /api/products/:productId returns 403 - forbidden, when non owner edit",
              "timedOut": null,
              "duration": 30,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: endpoint,\n  method: \"DELETE\",\n  headers: {\n    Authorization: `Bearer ${_tokens.bobToken}`\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 403);",
              "err": {},
              "uuid": "f4502b13-ccfb-4ac5-a6e2-79c3a95b4789",
              "parentUUID": "39114958-fdb2-4909-88f2-c771d9985c06",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 204 - success, when admin edit",
              "fullTitle": "DELETE /api/products/:productId returns 204 - success, when admin edit",
              "timedOut": null,
              "duration": 31,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: endpoint,\n  method: \"DELETE\",\n  headers: {\n    Authorization: `Bearer ${_tokens.adminToken}`\n  }\n}).its(\"status\").should(\"equal\", 204);",
              "err": {},
              "uuid": "47f38b55-fd6f-4a1a-b458-45f663fb711b",
              "parentUUID": "39114958-fdb2-4909-88f2-c771d9985c06",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 404 - not found",
              "fullTitle": "DELETE /api/products/:productId returns 404 - not found",
              "timedOut": null,
              "duration": 32,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: \"http://localhost:3000/api/products/not-existing-id\",\n  method: \"DELETE\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 404);",
              "err": {},
              "uuid": "ce5a6601-0e1f-4cab-b194-e18a3d5a3778",
              "parentUUID": "39114958-fdb2-4909-88f2-c771d9985c06",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "check mutation - object deleted in database",
              "fullTitle": "DELETE /api/products/:productId check mutation - object deleted in database",
              "timedOut": null,
              "duration": 40,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: endpoint,\n  method: \"GET\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  }\n}).then(response => {\n  expect(response.status).to.be.eq(200);\n  cy.request({\n    url: endpoint,\n    method: \"DELETE\",\n    headers: {\n      Authorization: `Bearer ${_tokens.aliceToken}`\n    }\n  }).then(response => {\n    expect(response.status).to.be.eq(204);\n    cy.request({\n      url: endpoint,\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${_tokens.aliceToken}`\n      },\n      failOnStatusCode: false\n    }).then(response => {\n      expect(response.status).to.be.eq(404);\n    });\n  });\n});",
              "err": {},
              "uuid": "752b75fd-2ffb-43d5-9cff-5804d52ec00f",
              "parentUUID": "39114958-fdb2-4909-88f2-c771d9985c06",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "1134660a-5ecf-4852-99f5-5e59d5582fca",
            "7ad451be-0ecd-4319-bb52-85a5bdedc25c",
            "f4502b13-ccfb-4ac5-a6e2-79c3a95b4789",
            "47f38b55-fd6f-4a1a-b458-45f663fb711b",
            "ce5a6601-0e1f-4cab-b194-e18a3d5a3778",
            "752b75fd-2ffb-43d5-9cff-5804d52ec00f"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 189,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "d2fcb161-ecfd-4e8c-ba1f-84964f84bb71",
          "title": "POST /api/products/:productId/bids",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "returns 401 - not authorized",
              "fullTitle": "POST /api/products/:productId/bids returns 401 - not authorized",
              "timedOut": null,
              "duration": 30,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  method: \"POST\",\n  url: \"http://localhost:3000/api/products/a0f7c522-78f8-442e-a55d-642cfe566634/bids\",\n  headers: {\n    Authorization: `Bearer BAD_TOKEN`\n  },\n  body: {\n    name: \"New Product\",\n    description: \"This is a new product\",\n    category: \"Electronics\",\n    originalPrice: 99,\n    pictureUrl: \"https://example.com/product.jpg\",\n    endDate: \"2023-04-01T00:00:00.000Z\"\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 401);",
              "err": {},
              "uuid": "813146b9-c1f7-4be1-8680-7b74fe218c8e",
              "parentUUID": "d2fcb161-ecfd-4e8c-ba1f-84964f84bb71",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 201 - created",
              "fullTitle": "POST /api/products/:productId/bids returns 201 - created",
              "timedOut": null,
              "duration": 33,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Create a new product\ncy.request({\n  method: \"POST\",\n  url: \"http://localhost:3000/api/products/a0f7c522-78f8-442e-a55d-642cfe566634/bids\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  },\n  body: {\n    price: 42\n  }\n}).then(response => {\n  // Assert that the response is as expected\n  expect(response.status).to.eq(201);\n  expect(response.body.id).to.be.match(_pattern.UUIDv4);\n  expect(response.body.productId).to.be.match(_pattern.UUIDv4);\n  expect(response.body.price).to.be.a(\"number\");\n  expect(response.body.date).to.match(_pattern.IOS8601);\n  expect(response.body.bidderId).to.match(_pattern.UUIDv4);\n});",
              "err": {},
              "uuid": "bedf2bb2-702b-45fe-9801-437f3c30a320",
              "parentUUID": "d2fcb161-ecfd-4e8c-ba1f-84964f84bb71",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 400 - missing or invalid fields",
              "fullTitle": "POST /api/products/:productId/bids returns 400 - missing or invalid fields",
              "timedOut": null,
              "duration": 26,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "// Create a new product\ncy.request({\n  method: \"POST\",\n  url: \"http://localhost:3000/api/products/a0f7c522-78f8-442e-a55d-642cfe566634/bids\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  },\n  body: {\n    // price: 42, missing\n  },\n  failOnStatusCode: false\n}).then(req => {\n  expect(req.status).to.be.eq(400);\n  expect(req.body.error).to.be.eq(\"Invalid or missing fields\");\n  expect(req.body.details).to.exist;\n});",
              "err": {},
              "uuid": "3eb2cf50-3133-47c4-be6c-c7bfcc680ab7",
              "parentUUID": "d2fcb161-ecfd-4e8c-ba1f-84964f84bb71",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "check mutation - object created in database",
              "fullTitle": "POST /api/products/:productId/bids check mutation - object created in database",
              "timedOut": null,
              "duration": 34,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  method: \"POST\",\n  url: \"http://localhost:3000/api/products/a0f7c522-78f8-442e-a55d-642cfe566634/bids\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  },\n  body: {\n    price: 42\n  }\n}).then(response => {\n  expect(response.status).to.be.eq(201);\n  const newBid = response.body;\n  cy.request(\"http://localhost:3000/api/products/a0f7c522-78f8-442e-a55d-642cfe566634\").then(response => {\n    const product = response.body;\n    expect(product.bids.some(bid => bid.id === newBid.id)).to.be.true;\n  });\n});",
              "err": {},
              "uuid": "1c08ef03-3237-4895-9fdb-db8c378e0974",
              "parentUUID": "d2fcb161-ecfd-4e8c-ba1f-84964f84bb71",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "813146b9-c1f7-4be1-8680-7b74fe218c8e",
            "bedf2bb2-702b-45fe-9801-437f3c30a320",
            "3eb2cf50-3133-47c4-be6c-c7bfcc680ab7",
            "1c08ef03-3237-4895-9fdb-db8c378e0974"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 123,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "2600997b-0f53-40ea-a6e1-db11f8d0e139",
          "title": "DELETE /bids/:bidId",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "returns 401 - not authorized",
              "fullTitle": "DELETE /bids/:bidId returns 401 - not authorized",
              "timedOut": null,
              "duration": 33,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  method: \"DELETE\",\n  url: endpoint,\n  headers: {\n    Authorization: `Bearer BAD_TOKEN`\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 401);",
              "err": {},
              "uuid": "b4205623-8cb6-41ff-9b50-efc7363f5970",
              "parentUUID": "2600997b-0f53-40ea-a6e1-db11f8d0e139",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 204 - success, when owner edit",
              "fullTitle": "DELETE /bids/:bidId returns 204 - success, when owner edit",
              "timedOut": null,
              "duration": 24,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: endpoint,\n  method: \"DELETE\",\n  headers: {\n    Authorization: `Bearer ${_tokens.charlyToken}`\n  }\n}).its(\"status\").should(\"equal\", 204);",
              "err": {},
              "uuid": "ec3bb8ea-a644-40ff-b097-78a039a88d77",
              "parentUUID": "2600997b-0f53-40ea-a6e1-db11f8d0e139",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 403 - forbidden, when non owner edit",
              "fullTitle": "DELETE /bids/:bidId returns 403 - forbidden, when non owner edit",
              "timedOut": null,
              "duration": 23,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: endpoint,\n  method: \"DELETE\",\n  headers: {\n    Authorization: `Bearer ${_tokens.bobToken}`\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 403);",
              "err": {},
              "uuid": "92381970-17c4-4d97-b89c-2d1aed1613ee",
              "parentUUID": "2600997b-0f53-40ea-a6e1-db11f8d0e139",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 204 - success, when admin edit",
              "fullTitle": "DELETE /bids/:bidId returns 204 - success, when admin edit",
              "timedOut": null,
              "duration": 30,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: endpoint,\n  method: \"DELETE\",\n  headers: {\n    Authorization: `Bearer ${_tokens.adminToken}`\n  }\n}).its(\"status\").should(\"equal\", 204);",
              "err": {},
              "uuid": "c3af65c2-af2a-479c-bd00-67c6be6e25ef",
              "parentUUID": "2600997b-0f53-40ea-a6e1-db11f8d0e139",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 404 - not found",
              "fullTitle": "DELETE /bids/:bidId returns 404 - not found",
              "timedOut": null,
              "duration": 30,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: \"http://localhost:3000/api/products/not-existing-id\",\n  method: \"DELETE\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  },\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 404);",
              "err": {},
              "uuid": "267ce8be-e934-454d-bc23-836eaa24c980",
              "parentUUID": "2600997b-0f53-40ea-a6e1-db11f8d0e139",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "check mutation - object deleted in database",
              "fullTitle": "DELETE /bids/:bidId check mutation - object deleted in database",
              "timedOut": null,
              "duration": 39,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: \"http://localhost:3000/api/products/a0f7c522-78f8-442e-a55d-642cfe566634\",\n  method: \"GET\",\n  headers: {\n    Authorization: `Bearer ${_tokens.aliceToken}`\n  }\n}).then(response => {\n  const product = response.body;\n  expect(product.bids.some(bid => bid.id === \"8ccc6e79-f3c9-43e9-b47e-5be7b84d8de7\")).to.be.true;\n  cy.request({\n    url: endpoint,\n    method: \"DELETE\",\n    headers: {\n      Authorization: `Bearer ${_tokens.charlyToken}`\n    }\n  }).then(response => {\n    expect(response.status).to.be.eq(204);\n    cy.request({\n      url: \"http://localhost:3000/api/products/a0f7c522-78f8-442e-a55d-642cfe566634\",\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${_tokens.aliceToken}`\n      },\n      failOnStatusCode: false\n    }).then(response => {\n      const product = response.body;\n      expect(product.bids.some(bid => bid.id === \"8ccc6e79-f3c9-43e9-b47e-5be7b84d8de7\")).to.be.false;\n    });\n  });\n});",
              "err": {},
              "uuid": "ba62fe79-e9e4-4102-909c-1b1db7417b6b",
              "parentUUID": "2600997b-0f53-40ea-a6e1-db11f8d0e139",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "b4205623-8cb6-41ff-9b50-efc7363f5970",
            "ec3bb8ea-a644-40ff-b097-78a039a88d77",
            "92381970-17c4-4d97-b89c-2d1aed1613ee",
            "c3af65c2-af2a-479c-bd00-67c6be6e25ef",
            "267ce8be-e934-454d-bc23-836eaa24c980",
            "ba62fe79-e9e4-4102-909c-1b1db7417b6b"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 179,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "5c55256b-c179-43fe-a9ae-c579383656a5",
          "title": "GET /api/users/:userId",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "returns 404 - not found",
              "fullTitle": "GET /api/users/:userId returns 404 - not found",
              "timedOut": null,
              "duration": 30,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request({\n  url: \"http://localhost:3000/api/users/not-existing-id\",\n  failOnStatusCode: false\n}).its(\"status\").should(\"equal\", 404);",
              "err": {},
              "uuid": "bfbd2854-fcce-4873-be3f-e77074d91272",
              "parentUUID": "5c55256b-c179-43fe-a9ae-c579383656a5",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "returns 200 - success",
              "fullTitle": "GET /api/users/:userId returns 200 - success",
              "timedOut": null,
              "duration": 116,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "cy.request(\"http://localhost:3000/api/users/1f2fadb1-0d7e-47a7-9d5b-ed031d665d3e\").then(response => {\n  expect(response.status).to.be.eq(200);\n  expect(response.headers[\"content-type\"]).to.contains(\"application/json\");\n  const user = response.body;\n  expect(user.id).to.eq(\"1f2fadb1-0d7e-47a7-9d5b-ed031d665d3e\");\n  expect(user.username).to.be.eq(\"alice\");\n  expect(user.admin).to.be.false;\n  for (let product of user.products) {\n    expect(product.id).to.be.a(\"string\");\n    expect(product.id).to.match(_pattern.UUIDv4);\n    expect(product.description).to.be.a(\"string\");\n    expect(product.category).to.be.a(\"string\");\n    expect(product.originalPrice).to.be.a(\"number\");\n    expect(product.pictureUrl).to.be.a(\"string\");\n    expect(product.endDate).to.be.a(\"string\");\n    expect(product.endDate).to.match(_pattern.IOS8601);\n  }\n  for (let bid of user.bids) {\n    expect(bid.id).to.be.a(\"string\");\n    expect(bid.id).to.match(_pattern.UUIDv4);\n    expect(bid.price).to.be.a(\"number\");\n    expect(bid.date).to.be.a(\"string\");\n    expect(bid.date).to.match(_pattern.IOS8601);\n    expect(bid.product.id).to.a(\"string\");\n    expect(bid.product.id).to.match(_pattern.UUIDv4);\n    expect(bid.product.name).to.a(\"string\");\n  }\n});",
              "err": {},
              "uuid": "a4c421ab-f511-4370-bbe9-a6b05f8911cf",
              "parentUUID": "5c55256b-c179-43fe-a9ae-c579383656a5",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "bfbd2854-fcce-4873-be3f-e77074d91272",
            "a4c421ab-f511-4370-bbe9-a6b05f8911cf"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 146,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 2000
    }
  ],
  "meta": {
    "mocha": {
      "version": "7.0.1"
    },
    "mochawesome": {
      "options": {
        "quiet": false,
        "reportFilename": "mochawesome",
        "saveHtml": false,
        "saveJson": true,
        "consoleReporter": "spec",
        "useInlineDiffs": false,
        "code": true
      },
      "version": "7.1.3"
    },
    "marge": {
      "options": {
        "reportDir": "cypress/results",
        "overwrite": false,
        "html": false,
        "json": true
      },
      "version": "6.2.0"
    }
  }
}